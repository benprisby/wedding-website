(function($){var b=$(window),c=$('body'),d=$('#wrapper'),e=$('#header'),f=$('#footer'),g=$('#main'),h=g.children('article');breakpoints({xlarge:['1281px','1680px'],large:['981px','1280px'],medium:['737px','980px'],small:['481px','736px'],xsmall:['361px','480px'],xxsmall:[null,'360px']});b.on('load',function(){window.setTimeout(function(){c.removeClass('is-preload')},100)});if(browser.name=='ie'){var i;b.on('resize.flexbox-fix',function(){clearTimeout(i);i=setTimeout(function(){d.prop('scrollHeight')>b.height()?d.css('height','auto'):d.css('height','100vh')},250)}).triggerHandler('resize.flexbox-fix')}var j=e.children('nav'),k=j.find('li');k.length%2==0&&(j.addClass('use-middle'),k.eq((k.length/2)).addClass('is-middle'));var l=325,m=!1;g._show=(a,A)=>{var _=h.filter(`#${a}`);if(_.length==0)return;if(m||(typeof A!='undefined'&&A===!0)){c.addClass('is-switching');c.addClass('is-article-visible');h.removeClass('active');e.hide();f.hide();g.show();_.show();_.addClass('active');m=!1;setTimeout(function(){c.removeClass('is-switching')},(A?1000:0));return}m=!0;if(c.hasClass('is-article-visible')){var B=h.filter('.active');B.removeClass('active');setTimeout(function(){B.hide();_.show();setTimeout(function(){_.addClass('active');b.scrollTop(0).triggerHandler('resize.flexbox-fix');setTimeout(function(){m=!1},l)},25)},l)}else{c.addClass('is-article-visible');setTimeout(function(){e.hide();f.hide();g.show();_.show();setTimeout(function(){_.addClass('active');b.scrollTop(0).triggerHandler('resize.flexbox-fix');setTimeout(function(){m=!1},l)},25)},l)}};g._hide=C=>{var _b=h.filter('.active');if(!c.hasClass('is-article-visible'))return;(typeof C!='undefined'&&C===!0)&&history.pushState(null,null,'#');if(m){c.addClass('is-switching');_b.removeClass('active');_b.hide();g.hide();f.show();e.show();c.removeClass('is-article-visible');m=!1;c.removeClass('is-switching');b.scrollTop(0).triggerHandler('resize.flexbox-fix');return}m=!0;_b.removeClass('active');setTimeout(function(){_b.hide();g.hide();f.show();e.show();setTimeout(function(){c.removeClass('is-article-visible');b.scrollTop(0).triggerHandler('resize.flexbox-fix');setTimeout(function(){m=!1},l)},25)},l)};h.each(function(){var _a=$(this);$('<div class="close">Close</div>').appendTo(_a).on('click',function(){location.hash=''});_a.on('click',function(D){D.stopPropagation()})});c.on('click',function(_A){c.hasClass('is-article-visible')&&g._hide(!0)});b.on('keyup',function(E){switch(E.keyCode) {case 27:c.hasClass('is-article-visible')&&g._hide(!0);break;default:break}});b.on('hashchange',function(aA){if(location.hash==''||location.hash=='#'){aA.preventDefault();aA.stopPropagation();g._hide()}else h.filter(location.hash).length>0&&(aA.preventDefault(),aA.stopPropagation(),g._show(location.hash.substr(1)))});if('scrollRestoration' in history)history.scrollRestoration='manual';else{var n=0,o=0,p=$('html,body');b.on('scroll',function(){n=o;o=p.scrollTop()}).on('hashchange',function(){b.scrollTop(n)})}g.hide();h.hide();(location.hash!=''&&location.hash!='#')&&b.on('load',function(){g._show(location.hash.substr(1),!0)})})(jQuery);
